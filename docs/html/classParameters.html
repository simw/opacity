<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>opacity3: Parameters Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.3 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul>
</div>
<h1>Parameters Class Reference</h1><!-- doxytag: class="Parameters" --><code>#include &lt;<a class="el" href="parameters_8h-source.html">parameters.h</a>&gt;</code>
<p>

<p>
<a href="classParameters-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#bf65ea89957e2ca5f712a18aea658744">Parameters</a> (std::string StringID_)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#a96c497084795f0c0be65c37ff03f162">ParseInputFile</a> (std::string FileName)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#a5cc611f199eccbc05b1908a3d72edd8">ParseSingleLine</a> (std::string LineString)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Helper function for ParseInputFile - does one line supplied as LineString.  <a href="#a5cc611f199eccbc05b1908a3d72edd8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::list&lt; std::string &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#aad6541e5440beed7c65ac9062109cfe">GetParametersString</a> (std::string ParamID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a specific parameter in the map, identified by ParamID.  <a href="#aad6541e5440beed7c65ac9062109cfe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::vector&lt; double &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#ff7eee6fabcdbdc7908b595814537f37">GetParametersDouble</a> (std::string ParamID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the parameter set, but then convert to a vector of doubles.  <a href="#ff7eee6fabcdbdc7908b595814537f37"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::vector&lt; long &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#840169a79f0cdd8217e29b3b25a6552d">GetParametersLong</a> (std::string ParamID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get the parameter set, but then convert to a vector of longs.  <a href="#840169a79f0cdd8217e29b3b25a6552d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#dd8fd8d11a79eff3d3fa6dd6d088dd27">CheckForUnaccessedParameters</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#b93e874ce1ee81e9586a2435b7d8a3de">WriteToFile</a> (std::string FileName, bool append)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::string&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#5206e134bcec867289e40fbfac16d354">StringID</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The unique ID to identify the settings section in the file.  <a href="#5206e134bcec867289e40fbfac16d354"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::map<br>
&lt; std::string,<br>
 std::list<br>
&lt; std::string &gt; &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#8c15233ec44b657431d68b51f42861c4">TheParameters</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The map in which to store ParamID, list of parameters.  <a href="#8c15233ec44b657431d68b51f42861c4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">std::map<br>
&lt; std::string, bool &gt;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParameters.html#d0fc8c05690cdfd6939a7606786f40f5">AccessedList</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The map in which to store whether ParamID has been accessed.  <a href="#d0fc8c05690cdfd6939a7606786f40f5"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="classParameters.html">Parameters</a>: reads a file, retrieves and stores the settings in a map structure When we want to retrieve that setting, a call to GetParameters with the relevant ParamID returns a list of strings containing the relevant parameters.<p>
The file format: the file can contain anything. This object only looks at lines between "# Begin settings for " + StringID, and "# End settings for " + StringID where StringID was supplied to the constructor of the object. Between these lines, blank lines and lines beginning with # (comment lines) are ignored. The rest are taken as "ParamID param1 param2 ...", space separated values.<p>
ParseInputFile returns an integer. If this is &gt; 0, then this specifies the number of settings lines that have been read. If &lt; 0, this gives an error code. = 0 is also an error - no settings read in.<p>
TODO: extend so that multiple files can be read in, where subsequent files are specified by a line "+ ./furtherparams.txt" line. Must check for looping references. This would be useful for eg multiple jet energies and types, but where everything else is the same. One common settings file, one specialized.<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Simon Wicks &lt;<a href="mailto:simon_wicks@yahoo.com">simon_wicks@yahoo.com</a>&gt; </dd></dl>

<p>Definition at line <a class="el" href="parameters_8h-source.html#l00031">31</a> of file <a class="el" href="parameters_8h-source.html">parameters.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="bf65ea89957e2ca5f712a18aea658744"></a><!-- doxytag: member="Parameters::Parameters" ref="bf65ea89957e2ca5f712a18aea658744" args="(std::string StringID_)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Parameters::Parameters           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>StringID_</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a96c497084795f0c0be65c37ff03f162"></a><!-- doxytag: member="Parameters::ParseInputFile" ref="a96c497084795f0c0be65c37ff03f162" args="(std::string FileName)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parameters::ParseInputFile           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>FileName</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read in a file which contains all the settings for the run <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>FileName</em>&nbsp;</td><td>The filename to process </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Integer error code </dd></dl>

<p>Referenced by <a class="el" href="driver_8h-source.html#l00096">Driver&lt; TcalcEngine, Tstore, numOfRandoms &gt;::Setup()</a>.</p>

</div>
</div><p>
<a class="anchor" name="a5cc611f199eccbc05b1908a3d72edd8"></a><!-- doxytag: member="Parameters::ParseSingleLine" ref="a5cc611f199eccbc05b1908a3d72edd8" args="(std::string LineString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parameters::ParseSingleLine           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>LineString</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Helper function for ParseInputFile - does one line supplied as LineString. 
<p>

</div>
</div><p>
<a class="anchor" name="aad6541e5440beed7c65ac9062109cfe"></a><!-- doxytag: member="Parameters::GetParametersString" ref="aad6541e5440beed7c65ac9062109cfe" args="(std::string ParamID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::list&lt;std::string&gt; Parameters::GetParametersString           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>ParamID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a specific parameter in the map, identified by ParamID. 
<p>

<p>Referenced by <a class="el" href="radcalcer_8cpp-source.html#l00011">RadCalcer::RadCalcer()</a>, <a class="el" href="glvradiative3_8h-source.html#l00152">GlvRadiative3&lt; TqperpGenerate, TqperpCalculate, numOfRandoms &gt;::SetParameters()</a>, and <a class="el" href="driver_8h-source.html#l00142">Driver&lt; TcalcEngine, Tstore, numOfRandoms &gt;::SetParameters()</a>.</p>

</div>
</div><p>
<a class="anchor" name="ff7eee6fabcdbdc7908b595814537f37"></a><!-- doxytag: member="Parameters::GetParametersDouble" ref="ff7eee6fabcdbdc7908b595814537f37" args="(std::string ParamID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;double&gt; Parameters::GetParametersDouble           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>ParamID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the parameter set, but then convert to a vector of doubles. 
<p>

<p>Referenced by <a class="el" href="radcalcer_8cpp-source.html#l00011">RadCalcer::RadCalcer()</a>, <a class="el" href="store_8cpp-source.html#l00023">Store2D::SetParameters()</a>, <a class="el" href="glvradiative3_8h-source.html#l00152">GlvRadiative3&lt; TqperpGenerate, TqperpCalculate, numOfRandoms &gt;::SetParameters()</a>, and <a class="el" href="zcolldist_8cpp-source.html#l00011">ZposGenerator::ZposGenerator()</a>.</p>

</div>
</div><p>
<a class="anchor" name="840169a79f0cdd8217e29b3b25a6552d"></a><!-- doxytag: member="Parameters::GetParametersLong" ref="840169a79f0cdd8217e29b3b25a6552d" args="(std::string ParamID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;long&gt; Parameters::GetParametersLong           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>ParamID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the parameter set, but then convert to a vector of longs. 
<p>

<p>Referenced by <a class="el" href="radcalcer_8cpp-source.html#l00011">RadCalcer::RadCalcer()</a>, and <a class="el" href="glvradiative3_8h-source.html#l00152">GlvRadiative3&lt; TqperpGenerate, TqperpCalculate, numOfRandoms &gt;::SetParameters()</a>.</p>

</div>
</div><p>
<a class="anchor" name="dd8fd8d11a79eff3d3fa6dd6d088dd27"></a><!-- doxytag: member="Parameters::CheckForUnaccessedParameters" ref="dd8fd8d11a79eff3d3fa6dd6d088dd27" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parameters::CheckForUnaccessedParameters           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
See whether all the parameters read in from file have been accessed by the program <dl class="return" compact><dt><b>Returns:</b></dt><dd>Gives 0 if all parameters used, otherwise gives the number of unaccessed parameters (ie &gt;0) </dd></dl>

<p>Definition at line <a class="el" href="parameters_8cpp-source.html#l00190">190</a> of file <a class="el" href="parameters_8cpp-source.html">parameters.cpp</a>.</p>

<p>References <a class="el" href="parameters_8h-source.html#l00069">AccessedList</a>.</p>

<p>Referenced by <a class="el" href="driver_8h-source.html#l00096">Driver&lt; TcalcEngine, Tstore, numOfRandoms &gt;::Setup()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00191"></a>00191 {
<a name="l00192"></a>00192   <span class="comment">// How many unaccessed parameters have we found so far</span>
<a name="l00193"></a>00193   <span class="keywordtype">int</span> ReturnValue = 0;
<a name="l00194"></a>00194 
<a name="l00195"></a>00195   <span class="comment">// Now iterate over all parameters in the map</span>
<a name="l00196"></a>00196   <span class="comment">// (the ParamIDs in AccessedList should be the same as in TheParameters)</span>
<a name="l00197"></a>00197   <span class="keywordflow">for</span> ( map&lt;string, bool&gt;::iterator i = <a class="code" href="classParameters.html#d0fc8c05690cdfd6939a7606786f40f5" title="The map in which to store whether ParamID has been accessed.">AccessedList</a>.begin();
<a name="l00198"></a>00198         i != <a class="code" href="classParameters.html#d0fc8c05690cdfd6939a7606786f40f5" title="The map in which to store whether ParamID has been accessed.">AccessedList</a>.end(); ++i )
<a name="l00199"></a>00199   {
<a name="l00200"></a>00200     <span class="keywordflow">if</span> ( i-&gt;second != <span class="keyword">true</span> )
<a name="l00201"></a>00201     {
<a name="l00202"></a>00202       ++ReturnValue;
<a name="l00203"></a>00203       cerr &lt;&lt; <span class="stringliteral">"Unused parameter: "</span> &lt;&lt; i-&gt;first &lt;&lt; <span class="stringliteral">"\n"</span>;
<a name="l00204"></a>00204     }
<a name="l00205"></a>00205   }
<a name="l00206"></a>00206 
<a name="l00207"></a>00207   <span class="keywordflow">return</span> ReturnValue;
<a name="l00208"></a>00208 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="b93e874ce1ee81e9586a2435b7d8a3de"></a><!-- doxytag: member="Parameters::WriteToFile" ref="b93e874ce1ee81e9586a2435b7d8a3de" args="(std::string FileName, bool append)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int Parameters::WriteToFile           </td>
          <td>(</td>
          <td class="paramtype">std::string&nbsp;</td>
          <td class="paramname"> <em>FileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&nbsp;</td>
          <td class="paramname"> <em>append</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write our parameters to file, for record and possible reopening later <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>FileName</em>&nbsp;</td><td>The filename of the file to write to </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>append</em>&nbsp;</td><td>A true / false flag on whether to erase the current contents of the file of to append to it. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Integer error code, 0 if ok </dd></dl>

<p>Referenced by <a class="el" href="driver_8h-source.html#l00224">Driver&lt; TcalcEngine, Tstore, numOfRandoms &gt;::SaveResults()</a>.</p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="5206e134bcec867289e40fbfac16d354"></a><!-- doxytag: member="Parameters::StringID" ref="5206e134bcec867289e40fbfac16d354" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string <a class="el" href="classParameters.html#5206e134bcec867289e40fbfac16d354">Parameters::StringID</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The unique ID to identify the settings section in the file. 
<p>

<p>Definition at line <a class="el" href="parameters_8h-source.html#l00065">65</a> of file <a class="el" href="parameters_8h-source.html">parameters.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="8c15233ec44b657431d68b51f42861c4"></a><!-- doxytag: member="Parameters::TheParameters" ref="8c15233ec44b657431d68b51f42861c4" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, std::list&lt;std::string&gt; &gt; <a class="el" href="classParameters.html#8c15233ec44b657431d68b51f42861c4">Parameters::TheParameters</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The map in which to store ParamID, list of parameters. 
<p>

<p>Definition at line <a class="el" href="parameters_8h-source.html#l00067">67</a> of file <a class="el" href="parameters_8h-source.html">parameters.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="d0fc8c05690cdfd6939a7606786f40f5"></a><!-- doxytag: member="Parameters::AccessedList" ref="d0fc8c05690cdfd6939a7606786f40f5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;std::string, bool&gt; <a class="el" href="classParameters.html#d0fc8c05690cdfd6939a7606786f40f5">Parameters::AccessedList</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The map in which to store whether ParamID has been accessed. 
<p>

<p>Definition at line <a class="el" href="parameters_8h-source.html#l00069">69</a> of file <a class="el" href="parameters_8h-source.html">parameters.h</a>.</p>

<p>Referenced by <a class="el" href="parameters_8cpp-source.html#l00190">CheckForUnaccessedParameters()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>Gyulassy/opacity3/src/<a class="el" href="parameters_8h-source.html">parameters.h</a><li>Gyulassy/opacity3/src/<a class="el" href="parameters_8cpp-source.html">parameters.cpp</a></ul>
<hr size="1"><address style="text-align: right;"><small>Generated on Sat Nov 1 18:28:59 2008 for opacity3 by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.3 </small></address>
</body>
</html>
